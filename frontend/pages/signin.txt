import { signIn } from "next-auth/react";
import { FormEventHandler, useState } from "react";

const signin = () => {
    const [userInfo, setUserInfo] = useState({ email: "", username: "", password: "" });

    const handleSubmit: FormEventHandler<HTMLFormElement> = async (e) => {
        // validate your userinfo
        e.preventDefault();

        const res = await signIn("credentials", {
            email: userInfo.email,
            username: userInfo.username,
            password: userInfo.password,
            redirect: false,
        });

        return (
            <div>
                <h1> Hello world </h1>
                <div className="sign-in-form">
                    <form onSubmit={handleSubmit}>
                        <h1>Login</h1>
                        <input
                            value={userInfo.email}
                            onChange={({ target }) =>
                                setUserInfo({ ...userInfo, email: target.value })
                            }
                            type="email"
                            placeholder="john@email.com"
                        />
                        <input
                            value={userInfo.username}
                            onChange={({ target }) =>
                                setUserInfo({ ...userInfo, username: target.value })
                            }
                            type="email"
                            placeholder="john@email.com"
                        />
                        <input
                            value={userInfo.password}
                            onChange={({ target }) =>
                                setUserInfo({ ...userInfo, password: target.value })
                            }
                            type="password"
                            placeholder="********"
                        />
                        <button type="submit">Sign in</button>
                    </form>
                </div>
            </div>
        )
    }
}
export default signin